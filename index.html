<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https://cdn.jsdelivr.net https://esm.sh https://fonts.googleapis.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' blob: data:; font-src 'self' https://fonts.gstatic.com https://fonts.googleapis.com; connect-src 'self' https://esm.sh https://generativelanguage.googleapis.com https://storage.googleapis.com https://huggingface.co https://raw.githubusercontent.com blob: data:; font-src 'self' https://fonts.gstatic.com;"
    />
    <title>Dermatology AI Orchestrator</title>
    <link rel="manifest" href="/manifest.json" />
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Space+Grotesk:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
      crossorigin="anonymous"
    />

    <script>
      window.global = window;
      if (typeof window.Buffer === 'undefined' && typeof window.buffer !== 'undefined') {
        window.Buffer = window.buffer.Buffer;
      }

      window.process = {
        env: { NODE_ENV: 'production' },
        browser: true,
        version: '',
        versions: {},
        platform: 'browser',
        nextTick: (cb) => setTimeout(cb, 0),
        cwd: () => '/',
      };

      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker
            .register('/sw.js')
            .then((registration) => {
              console.log('SW registered: ', registration);
            })
            .catch((registrationError) => {
              console.log('SW registration failed: ', registrationError);
            });
        });
      }
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>
